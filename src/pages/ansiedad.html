<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Entrenamiento Anti-Ansiedad | Rio - Club Canino</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 to-cyan-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        
        <!-- Header personalizado para Rio -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-900 mb-2">
                üéØ Plan de Entrenamiento Anti-Ansiedad
            </h1>
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex items-center justify-center space-x-4">
                    <div class="text-center">
                        <h2 class="text-2xl font-bold text-gray-800">üêï Rio</h2>
                        <p class="text-gray-600">Golden Retriever ‚Ä¢ 3 a√±os</p>
                    </div>
                    <div class="border-l-2 border-gray-300 pl-4">
                        <div class="text-sm text-gray-500 mb-1">Ansiedad Detectada</div>
                        <div class="flex space-x-2">
                            <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">üè† Casa: 7.4</span>
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-sm">üè´ Colegio: 5.0</span>
                        </div>
                        <div class="text-xs text-red-600 mt-1">‚ö†Ô∏è Diferencia: +2.4 puntos en casa</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Plan de Comandos Anti-Ansiedad -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            
            <!-- Comandos Recomendados -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2">üéØ</span>
                    Comandos Anti-Ansiedad Recomendados
                </h3>
                
                <div class="space-y-4">
                    <!-- Comando 1: Blaii (Quieto) -->
                    <div class="border rounded-lg p-4 bg-green-50 border-green-200">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="font-bold text-green-800">üü¢ "Blaii" (Quieto)</h4>
                                <p class="text-sm text-green-600">‚≠ê‚≠ê Dificultad B√°sica</p>
                            </div>
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">PERFECTO PARA ANSIEDAD</span>
                        </div>
                        <p class="text-sm text-gray-700 mb-3">
                            Comando clave para calmar a Rio cuando est√© ansioso en casa. 
                            Ense√±a autocontrol y reduce la hiperactividad.
                        </p>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div>
                                <strong>Cu√°ndo usar:</strong><br>
                                ‚Ä¢ Antes de salir de casa<br>
                                ‚Ä¢ Cuando lleguen visitas<br>
                                ‚Ä¢ Si est√° muy excitado
                            </div>
                            <div>
                                <strong>Progreso actual:</strong><br>
                                <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 60%"></div>
                                </div>
                                <span class="text-gray-600">60% dominado</span>
                            </div>
                        </div>
                        <button onclick="practicarComando('blaii')" class="mt-3 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm">
                            üéØ Practicar Ahora
                        </button>
                    </div>

                    <!-- Comando 2: Plats (Echado) -->
                    <div class="border rounded-lg p-4 bg-blue-50 border-blue-200">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="font-bold text-blue-800">üîµ "Plats" (Echado)</h4>
                                <p class="text-sm text-blue-600">‚≠ê‚≠ê Dificultad B√°sica</p>
                            </div>
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">RELAJACI√ìN</span>
                        </div>
                        <p class="text-sm text-gray-700 mb-3">
                            Posici√≥n de m√°xima relajaci√≥n. Ideal para reducir la energ√≠a alta 
                            que Rio muestra en casa (7.0 vs 5.0 en colegio).
                        </p>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div>
                                <strong>Cu√°ndo usar:</strong><br>
                                ‚Ä¢ Durante momentos de alta energ√≠a<br>
                                ‚Ä¢ Para crear rutinas de calma<br>
                                ‚Ä¢ Antes de dormir
                            </div>
                            <div>
                                <strong>Progreso actual:</strong><br>
                                <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 45%"></div>
                                </div>
                                <span class="text-gray-600">45% dominado</span>
                            </div>
                        </div>
                        <button onclick="practicarComando('plats')" class="mt-3 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">
                            üéØ Practicar Ahora
                        </button>
                    </div>

                    <!-- Comando 3: Sit (Sentado) -->
                    <div class="border rounded-lg p-4 bg-yellow-50 border-yellow-200">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <h4 class="font-bold text-yellow-800">üü° "Sit" (Sentado)</h4>
                                <p class="text-sm text-yellow-600">‚≠ê Dificultad B√°sica</p>
                            </div>
                            <span class="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">FUNDACIONAL</span>
                        </div>
                        <p class="text-sm text-gray-700 mb-3">
                            Comando base para establecer control. Perfecto para interrumpir 
                            comportamientos ansiosos antes de que escalen.
                        </p>
                        <div class="grid grid-cols-2 gap-2 text-xs">
                            <div>
                                <strong>Cu√°ndo usar:</strong><br>
                                ‚Ä¢ Al inicio de cualquier sesi√≥n<br>
                                ‚Ä¢ Para captar atenci√≥n<br>
                                ‚Ä¢ Como comando de "reset"
                            </div>
                            <div>
                                <strong>Progreso actual:</strong><br>
                                <div class="w-full bg-gray-200 rounded-full h-2 mt-1">
                                    <div class="bg-yellow-500 h-2 rounded-full" style="width: 85%"></div>
                                </div>
                                <span class="text-gray-600">85% dominado</span>
                            </div>
                        </div>
                        <button onclick="practicarComando('sit')" class="mt-3 bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 text-sm">
                            üéØ Practicar Ahora
                        </button>
                    </div>
                </div>
            </div>

            <!-- Plan de Sesiones Diarias -->
            <div class="bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <span class="mr-2">üìÖ</span>
                    Plan de Sesiones Anti-Ansiedad
                </h3>
                
                <!-- Rutina Matutina -->
                <div class="mb-6">
                    <h4 class="font-semibold text-gray-700 mb-2 flex items-center">
                        <span class="mr-2">üåÖ</span>
                        Rutina Matutina (7:00 AM)
                    </h4>
                    <div class="bg-green-50 border border-green-200 rounded p-3 text-sm">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium">Sesi√≥n de Calma Previa</span>
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">5 min</span>
                        </div>
                        <ol class="list-decimal list-inside space-y-1 text-gray-700">
                            <li>"Sit" ‚Üí esperar 3 segundos ‚Üí premio</li>
                            <li>"Blaii" ‚Üí esperar 5 segundos ‚Üí premio</li>
                            <li>"Plats" ‚Üí relajaci√≥n 10 segundos ‚Üí premio grande</li>
                        </ol>
                        <div class="mt-2 text-xs text-green-700">
                            üí° <strong>Objetivo:</strong> Reducir ansiedad antes de que Mar√≠a salga al trabajo
                        </div>
                    </div>
                </div>

                <!-- Rutina Vespertina -->
                <div class="mb-6">
                    <h4 class="font-semibold text-gray-700 mb-2 flex items-center">
                        <span class="mr-2">üåÜ</span>
                        Rutina Vespertina (6:00 PM)
                    </h4>
                    <div class="bg-blue-50 border border-blue-200 rounded p-3 text-sm">
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium">Sesi√≥n de Liberaci√≥n Controlada</span>
                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">8 min</span>
                        </div>
                        <ol class="list-decimal list-inside space-y-1 text-gray-700">
                            <li>Ejercicio libre 3 minutos</li>
                            <li>"Blaii" ‚Üí parar actividad ‚Üí premio</li>
                            <li>"Sit" ‚Üí "Plats" ‚Üí relajaci√≥n</li>
                            <li>Sesi√≥n de caricias calmantes</li>
                        </ol>
                        <div class="mt-2 text-xs text-blue-700">
                            üí° <strong>Objetivo:</strong> Liberar energ√≠a acumulada y terminar en calma
                        </div>
                    </div>
                </div>

                <!-- Progreso Semanal -->
                <div>
                    <h4 class="font-semibold text-gray-700 mb-2 flex items-center">
                        <span class="mr-2">üìä</span>
                        Seguimiento Esta Semana
                    </h4>
                    <div class="grid grid-cols-7 gap-1 mb-3">
                        <div class="text-center">
                            <div class="text-xs text-gray-500">L</div>
                            <div class="h-6 bg-green-500 rounded text-white text-xs flex items-center justify-center">‚úì</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-500">M</div>
                            <div class="h-6 bg-green-500 rounded text-white text-xs flex items-center justify-center">‚úì</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-500">X</div>
                            <div class="h-6 bg-yellow-500 rounded text-white text-xs flex items-center justify-center">¬Ω</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-500">J</div>
                            <div class="h-6 bg-green-500 rounded text-white text-xs flex items-center justify-center">‚úì</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-500">V</div>
                            <div class="h-6 bg-blue-500 rounded text-white text-xs flex items-center justify-center">‚óã</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-500">S</div>
                            <div class="h-6 bg-gray-300 rounded text-gray-500 text-xs flex items-center justify-center">-</div>
                        </div>
                        <div class="text-center">
                            <div class="text-xs text-gray-500">D</div>
                            <div class="h-6 bg-gray-300 rounded text-gray-500 text-xs flex items-center justify-center">-</div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-600">
                        ‚úì Completa | ¬Ω Parcial | ‚óã Hoy | - Pendiente
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Pr√°ctica -->
        <div id="modal-practica" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
            <div class="bg-white rounded-lg shadow-xl p-6 m-4 max-w-md w-full">
                <h3 class="text-xl font-bold text-gray-800 mb-4" id="modal-titulo">Practicar Comando</h3>
                <div id="modal-contenido" class="space-y-4">
                    <!-- Contenido din√°mico del comando -->
                </div>
                <div class="flex space-x-3 mt-6">
                    <button onclick="cerrarModal()" class="flex-1 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">
                        Cancelar
                    </button>
                    <button onclick="completarSesion()" class="flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
                        ‚úÖ Completar Sesi√≥n
                    </button>
                </div>
            </div>
        </div>

        <!-- Botones de Acci√≥n -->
        <div class="text-center space-x-4">
            <button onclick="nuevaEvaluacion()" class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                üìä Nueva Evaluaci√≥n de Ansiedad
            </button>
            <button onclick="verProgreso()" class="bg-green-600 text-white px-8 py-3 rounded-lg hover:bg-green-700 transition-colors">
                üìà Ver Progreso Hist√≥rico
            </button>
            <button onclick="contactarProfesor()" class="bg-purple-600 text-white px-8 py-3 rounded-lg hover:bg-purple-700 transition-colors">
                üë®‚Äçüè´ Consultar Profesor
            </button>
        </div>
    </div>

    <script>
        // Datos de comandos anti-ansiedad
        const comandosAntiAnsiedad = {
            'blaii': {
                nombre: 'Blaii (Quieto)',
                instrucciones: [
                    '1. Ponte frente a Rio con una correa corta',
                    '2. Di "Blaii" con voz firme pero calmada',
                    '3. Si se mueve, suavemente regresalo a posici√≥n',
                    '4. Espera 5-10 segundos de quietud',
                    '5. Premia inmediatamente con "¬°Muy bien!"'
                ],
                tips: 'Perfecto para momentos de alta ansiedad. √ösalo cuando Rio est√© muy excitado.',
                duracion: '5-8 repeticiones, 3 minutos total',
                objetivo: 'Reducir ansiedad y establecer autocontrol'
            },
            'plats': {
                nombre: 'Plats (Echado)',
                instrucciones: [
                    '1. Rio debe estar en posici√≥n "Sit" primero',
                    '2. Di "Plats" y mueve premio al suelo',
                    '3. Gu√≠a suavemente hacia posici√≥n echado',
                    '4. Mant√©n posici√≥n 10-15 segundos',
                    '5. Libera con "OK" y premio grande'
                ],
                tips: 'Excelente para relajaci√≥n profunda. √ösalo cuando necesites que se calme completamente.',
                duracion: '3-5 repeticiones, 5 minutos total',
                objetivo: 'Relajaci√≥n profunda y reducci√≥n de energ√≠a'
            },
            'sit': {
                nombre: 'Sit (Sentado)',
                instrucciones: [
                    '1. Sost√©n premio sobre la cabeza de Rio',
                    '2. Di "Sit" una sola vez',
                    '3. Mueve premio hacia atr√°s lentamente',
                    '4. En cuanto se siente, di "¬°S√≠!" y premia',
                    '5. Repite 5-8 veces'
                ],
                tips: 'Comando fundamental. √ösalo para captar atenci√≥n antes de otros comandos.',
                duracion: '5-8 repeticiones, 2 minutos total',
                objetivo: 'Atenci√≥n y preparaci√≥n para otros ejercicios'
            }
        };

        function practicarComando(comando) {
            const info = comandosAntiAnsiedad[comando];
            document.getElementById('modal-titulo').textContent = `Practicar: ${info.nombre}`;
            
            document.getElementById('modal-contenido').innerHTML = `
                <div class="bg-blue-50 border border-blue-200 rounded p-3">
                    <h4 class="font-semibold text-blue-800 mb-2">üéØ Objetivo:</h4>
                    <p class="text-sm text-blue-700">${info.objetivo}</p>
                </div>
                
                <div>
                    <h4 class="font-semibold text-gray-700 mb-2">üìã Instrucciones:</h4>
                    <ol class="list-decimal list-inside space-y-1 text-sm text-gray-700">
                        ${info.instrucciones.map(inst => `<li>${inst}</li>`).join('')}
                    </ol>
                </div>
                
                <div class="bg-yellow-50 border border-yellow-200 rounded p-3">
                    <h4 class="font-semibold text-yellow-800 mb-2">üí° Tip Especial:</h4>
                    <p class="text-sm text-yellow-700">${info.tips}</p>
                </div>
                
                <div class="bg-green-50 border border-green-200 rounded p-3">
                    <h4 class="font-semibold text-green-800 mb-2">‚è±Ô∏è Duraci√≥n:</h4>
                    <p class="text-sm text-green-700">${info.duracion}</p>
                </div>
            `;
            
            document.getElementById('modal-practica').classList.remove('hidden');
            document.getElementById('modal-practica').classList.add('flex');
        }

        function cerrarModal() {
            document.getElementById('modal-practica').classList.add('hidden');
            document.getElementById('modal-practica').classList.remove('flex');
        }

        async function completarSesion() {
            // Aqu√≠ se registrar√≠a la sesi√≥n en Supabase
            alert('¬°Excelente! Sesi√≥n registrada. El progreso de Rio ha sido actualizado.');
            cerrarModal();
        }

        function nuevaEvaluacion() {
            alert('Redirigiendo a evaluaci√≥n de ansiedad espec√≠fica para Rio...');
        }

        function verProgreso() {
            alert('Mostrando gr√°ficos de progreso en comandos anti-ansiedad...');
        }

        function contactarProfesor() {
            alert('Enviando consulta al profesor sobre el plan anti-ansiedad de Rio...');
        }
    </script>
</body>
</html>